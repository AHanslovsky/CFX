<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Getting Started with the SDK</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="cfb57aac-b696-4c6c-b94b-f034b37daf26" /><meta name="Description" content="The CFX Software Development Kit (SDK) is a .NET based library that may be used within the Microsoft Visual Studio development environment. It is available in two variants: A .NET 4." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">IPC Connected Factory Exchange Reference<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\cfb57aac-b696-4c6c-b94b-f034b37daf26.htm" title="IPC Connected Factory Exchange Reference" tocid="roottoc">IPC Connected Factory Exchange Reference</a></div><div class="toclevel1 current" data-toclevel="1"><a data-tochassubtree="false" href="../html/cfb57aac-b696-4c6c-b94b-f034b37daf26.htm" title="Getting Started with the SDK" tocid="cfb57aac-b696-4c6c-b94b-f034b37daf26">Getting Started with the SDK</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/B3854407-74F1-465F-9AE8-8C40DE6CC9F4.htm" title="Common Functions and Tasks" tocid="B3854407-74F1-465F-9AE8-8C40DE6CC9F4">Common Functions and Tasks</a></div><div class="toclevel1" data-toclevel="1"><a data-tochassubtree="false" href="../html/1ea1dd3b-0f0b-451d-adaa-7927d64f2b4d.htm" title="How To Submit Additions and Changes" tocid="1ea1dd3b-0f0b-451d-adaa-7927d64f2b4d">How To Submit Additions and Changes</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/R_Project_CFXSDK.htm" title="CFX Topics, Messages, and Data Structures" tocid="R_Project_CFXSDK">CFX Topics, Messages, and Data Structures</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Getting Started with the SDK</h1></td></tr></table><span class="introStyle"></span> <p style="color: #dc143c; font-size: 8.5pt; font-weight: bold;">[This is preliminary documentation and is subject to change.]</p><div class="introduction"><p>The CFX Software Development Kit (SDK) is a .NET based library that may be used within the Microsoft Visual Studio development environment.  
      It is available in two variants:  A .NET 4.6 based library for traditional windows desktop and server applications (CFX.CFXSDK), and a
      .NET Standard 1.3 platform variant (CFX.CFXSDK.NetStandard) that allows interoperability with different editions of the .NET framework (.NET Core, 
      .NET Micro Framework, UWP, etc.).
      </p></div><div class="collapsibleAreaRegion" id="Section1"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Using the CFX SDK</span></div><div id="ID0RBSection" class="collapsibleSection"><p>The CFX SDK currently provides the following features and capabilities:</p><ul><li><p>Class / Object representations of all CFX messages (just like the standard, not yet 100% complete, but a great many messages are already available).</p></li><li><p>Ability to serialize and de-serialize CFX message objects to and from JSON format.</p></li><li><p>Ability to publish CFX messages via AMQP transport protocol to one or more destinations.</p></li><li><p>Ability to receive CFX messages via AMQP transport protocol from one or more subscription sources.</p></li><li><p>Fully automated network connection fault management (maintains AMQP connections even when network goes down or is otherwise unreliable).</p></li><li><p>CFX message “spooling”.  Maintains a durable queue of CFX messages that were not able to be transmitted due to faulty network conditions.
                      Messages are automatically transmitted in their original order once network service has resumed.</p></li><li><p>Point-to-Point CFX endpoint command (Request / Response) support.</p></li><li><p>Support for AMQP 1.0 SASL authentication and TLS encryption.</p></li></ul></div><div class="collapsibleAreaRegion" id="Section2"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Supported Development Platforms</span></div><div id="ID1RBSection" class="collapsibleSection"><p>To use the CFX SDK, you must utilize Microsoft Visual Studio 2012 or newer (or a 3rd party IDE capable of developing applications
      targeting .NET Framework 4.6 or greater). </p></div><div class="collapsibleAreaRegion" id="Section3"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Licensing</span></div><div id="ID2RBSection" class="collapsibleSection"><p>The CFX SDK is absolutely free, and there are no runtime royalties or license fees of any sort.  
      Though originally developed by Aegis Software, the SDK and its source code have been donated by Aegis to the IPC.  
      The code is published publicly on GitHub, and use of the SDK is licensed under the Apache open source license agreement.
      </p></div><div class="collapsibleAreaRegion" id="Section4"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Distribution and Source Code Availability</span></div><div id="ID3RBSection" class="collapsibleSection"><p>The CFX SDK is available as a NuGet package on nuget.org under the package name CFX.CFXSDK
      <a href="https://www.nuget.org/packages/CFX.CFXSDK" target="_blank">(https://www.nuget.org/packages/CFX.CFXSDK)</a></p><p>TSource code for the SDK is maintained as an open source community project on GitHub at 
      <a href="https://github.com/IPCConnectedFactoryExchange/CFX" target="_blank">https://github.com/IPCConnectedFactoryExchange/CFX</a></p><p>Developer Getting Started Guide, CFX Message/Structure Definitions, and Reference Documentation for the CFX SDK can be found here:
      <a href="http://www.connectedfactoryexchange.com/CFXDemo/SDK" title="Optional alternate text" target="_blank">http://www.connectedfactoryexchange.com/CFXDemo/SDK</a></p></div><div class="collapsibleAreaRegion" id="Section4"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Step-By-Step Getting Started Guide</span></div><div id="ID5RBSection" class="collapsibleSection"><p>This walkthrough will guide you through the basic process necessary to create and transmit a CFX message using the CFX SDK</p><p>For this walkthrough, we will create a basic .NET WinForms application that uses the CFX SDK to accomplish the message creation and transmission</p><p>To create your actual demo for the APEX show, you will follow a very similar process, but will be adding the CFX library to your pre-existing machine 
            controller, line controller, or data collection software modules.</p><h4 class="subHeading" id="Section4Sub1">STEP 1 -- Creating a new WinForms Application</h4><div class="subsection"><p>Use Visual Studio to create a new WinForms Application</p><p><div class="mediaNear"><img alt="Step Image 1" src="../media/StepImage1.png" /></div></p><p><div class="mediaNear"><img alt="Step Image 1b" src="../media/StepImage1b.png" /></div></p></div><h4 class="subHeading" id="Section4Sub2">STEP 2 -- Add the CFX SDK package to your Project</h4><div class="subsection"><p>Open the NuGet Package Management Console, and type:</p><p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAACACAAAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAACACAAAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAACACAAAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Install-Package CFX.CFXSDK</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAACACAAAAA");</script></p><p>The NuGet Package Management Console can be accessed here:</p><p><div class="mediaNear"><img alt="Step Image 2" src="../media/StepImage2.png" /></div></p></div><h4 class="subHeading" id="Section4Sub3">STEP 3 -- Initialize an AMQP CFX Publish Channel to a CFX Broker</h4><div class="subsection"><p>Add an Open button to your form, and create a click handler method.  
              Add the following code to your handler to initialize a new AMQP channel to the APEX cloud server:</p><p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAAAABAAAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAAAABAAAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAAAABAAAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">using</span> CFX;
<span class="highlight-keyword">using</span> CFX.Structures;
<span class="highlight-keyword">using</span> CFX.ResourcePerformance;
<span class="highlight-keyword">using</span> CFX.Transport;

. . .
. . .

AmqpCFXEndpoint theEndpoint;
<span class="highlight-keyword">string</span> myHandle = <span class="highlight-literal">"MyCompany.MyMachineModel.MyMachineSerialNumber"</span>;
<span class="highlight-keyword">string</span> myBroker = <span class="highlight-literal">"amqp://cfx.aiscorp.com:5672"</span>;
<span class="highlight-keyword">string</span> myExchange = <span class="highlight-literal">"/exchange/AegisCloud"</span>;

<span class="highlight-keyword">private</span> <span class="highlight-keyword">void</span> btnOpen_Click(<span class="highlight-keyword">object</span> sender, EventArgs e)
{
     <span class="highlight-keyword">if</span> (theEndpoint != <span class="highlight-keyword">null</span>) btnClose_Click(sender, e);


     theEndpoint = <span class="highlight-keyword">new</span> AmqpCFXEndpoint();
     theEndpoint.Open(myHandle);
     theEndpoint.AddPublishChannel(<span class="highlight-keyword">new</span> Uri(myBroker), myExchange);
     btnSend.Enabled = <span class="highlight-keyword">true</span>;
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAAAABAAAAA");</script></p></div><h4 class="subHeading" id="Section4Sub4">STEP 4 -- Construct a CFX Message and Publish to the Broker</h4><div class="subsection"><p>Add a Send button to your form, and create a click handler method.  
              Add the following code to your handler to initialize a new AMQP channel to the APEX cloud server:</p><p><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID4EAACAAAAAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID4EAACAAAAAAA');return false;" title="Copy">Copy</a></div></div><div id="ID4EAACAAAAAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">private</span> <span class="highlight-keyword">void</span> btnSend_Click(<span class="highlight-keyword">object</span> sender, EventArgs e)
{
     CFXEnvelope msg = <span class="highlight-keyword">new</span> CFXEnvelope(<span class="highlight-keyword">new</span> StationStateChanged()
     {
          NewState = ResourceState.On,
          OldState = ResourceState.Off,
          OldStateDuration = TimeSpan.FromMinutes(<span class="highlight-number">43</span>)
     });

     theEndpoint.Publish(env);
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID4EAACAAAAAAA");</script></p><p>That’s it!  You can download the full source code for this example on GitHub at:</p><p><a href="https://github.com/IPCConnectedFactoryExchange/CFX/tree/master/APEX%20CFX%20Demo%20App" target="_blank">https://github.com/IPCConnectedFactoryExchange/CFX/tree/master/APEX%20CFX%20Demo%20App</a></p></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>